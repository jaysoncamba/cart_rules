%div.bg-white.shadow-md.p-4.rounded.mb-4{ data: { controller: "cart" } }
  %h2.text-lg.font-semibold= product.name
  %p.text-sm.text-gray-600= "Price: $#{product.price}"

  = form_with url: add_to_cart_path, method: :post, data: { controller: "cart", action: "submit->cart#submit", cart_target: "form" }, class: "flex items-center gap-2" do |f|
    = hidden_field_tag :product_id, product.id
    = number_field_tag :quantity, 1, min: 1, class: "w-16 px-2 border rounded"
    = submit_tag "Add", class: "px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700", data: { cart_target: "button" }


  - if flash[:error].present?
    %p.text-red-500.text-sm.mt-1= flash[:error]